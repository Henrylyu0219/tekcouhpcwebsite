<!-- products page version 0.2.9 -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Products - TekcoUHPC</title>

  <!-- Fonts -->
  <link rel="stylesheet" href="https://use.typekit.net/jry3xql.css">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <!-- Global styles (relative paths) -->
  <link rel="stylesheet" href="../assets/header.css">
  <link rel="stylesheet" href="../assets/softload.css">

  <!-- Tiny fallback: prevent oversized logo if CSS failed -->
  <style>
    .tk-logo img { height: 28px; width: auto; display: block; }
  </style>

  <!-- Page local styles (no header overrides) -->
  <style>
    :root{ --bg:#fdfcf8; --ink:#0b0b0b; --muted:#6b6b6b; }
    html,body{margin:0;padding:0;background:var(--bg)}
    body{font-family:"Nunito",system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;color:var(--ink)}

    .hero{padding:64px 20px 24px;max-width:1200px;margin:0 auto;text-align:center}
    .hero__kicker{margin:0;font-family:"europa","EuropaGrotesk","Nunito",Arial,sans-serif;font-weight:800;letter-spacing:-.01em;font-size:clamp(28px,3.5vw,44px)}
    .hero__sub{margin:12px 0 0;color:var(--muted);font-weight:400;font-size:clamp(14px,2.2vw,16px)}

    /* grid 仅保留你现有的列宽与间距，不改设计 */
    .catalog{max-width:1240px;margin:24px auto 96px;padding:0 20px;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:32px 28px}
    @media (min-width:1400px){.catalog{max-width:1380px;grid-template-columns:repeat(4,minmax(0,1fr))}}
    @media (max-width:960px){.catalog{grid-template-columns:repeat(2,minmax(0,1fr));gap:26px 20px}}
    @media (max-width:560px){.catalog{grid-template-columns:1fr;gap:22px 16px}}

    .tile{display:block;text-decoration:none;color:inherit}
    .tile__figure{position:relative;border-radius:16px;overflow:hidden;outline:1px solid #e7e3dc;box-shadow:0 1px 0 rgba(0,0,0,.02);transition:transform .25s ease,box-shadow .25s ease;aspect-ratio:4/3}
    .tile__figure:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.08)}
    .tile__figure img{width:100%;height:100%;object-fit:cover;display:block}
    .tile__label{position:absolute;left:12px;bottom:12px;margin:0;padding:8px 10px 7px;border-radius:10px;font-weight:700;font-size:clamp(13px,1.8vw,14px);line-height:1;background:rgba(255,255,255,.78);backdrop-filter:saturate(140%) blur(4px)}
  </style>
</head>
<body>
  <!-- Header: EXACT same structure/labels as homepage -->
  <header class="tk-header">
    <div class="tk-header__inner">
      <a class="tk-logo" href="../index.html" aria-label="TekcoUHPC Home">
        <img src="../img/logo.png" alt="TekcoUHPC">
        <!-- 如果首页在 logo 旁有版本号，可保留；否则可删除下一行 -->
        <span class="tk-version">v0.1.1</span>
      </a>

      <!-- right-aligned desktop nav like homepage -->
      <nav class="tk-nav tk-nav--desktop">
        <a href="../index.html#about">About Us</a>
        <a class="is-active" href="./index.html">Products</a>
        <a href="../index.html#contact">Contacts</a>
      </nav>

      <button class="tk-burger" aria-label="Open Menu" aria-expanded="false">
        <span></span><span></span><span></span>
      </button>
    </div>

    <!-- mobile menu -->
    <nav class="tk-nav tk-nav--mobile" hidden>
      <a href="../index.html#about">About Us</a>
      <a class="is-active" href="./index.html">Products</a>
      <a href="../index.html#contact">Contacts</a>
    </nav>
  </header>

  <main class="page-products">
    <section class="hero">
      <h1 class="hero__kicker">Our products</h1>
      <p class="hero__sub">Curated UHPC surfaces and textures for architecture &amp; interiors in Singapore</p>
    </section>

    <section class="catalog fx-softload" id="catalog"></section>
  </main>

  <!-- Scripts (relative paths) -->
  <script src="../assets/header.js"></script>
  <script src="../assets/softload.js"></script>

  <!-- Render tiles from JSON -->
  <script type="module">
    async function renderCatalog(){
      try{
        const res = await fetch('../assets/products.json', { cache: 'no-cache' });
        if (!res.ok) throw new Error(res.status);
        const items = await res.json();

        const IMG_DIR = '../img/ProductsCover/';
        const html = items.map(({name, slug, img}) => `
          <a class="tile" href="./${slug}.html">
            <figure class="tile__figure">
              <img loading="lazy" src="${IMG_DIR}${img}" alt="${name}" />
              <figcaption class="tile__label">${name}</figcaption>
            </figure>
          </a>
        `).join('');

        const el = document.getElementById('catalog');
        el.innerHTML = html;
        if (window.tkSoftloadInit) window.tkSoftloadInit(el);
      } catch (err) {
        console.error(err);
        document.getElementById('catalog').innerHTML = '<p style="color:#888">Failed to load products.</p>';
      }
    }
    renderCatalog();
  </script>
</body>
</html>
