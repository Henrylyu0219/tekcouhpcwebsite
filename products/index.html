<!-- products page version 0.2.8a -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Products - TekcoUHPC</title>

  <!-- Fonts -->
  <link rel="stylesheet" href="https://use.typekit.net/jry3xql.css">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">

  <!-- 正确的相对路径 -->
  <link rel="stylesheet" href="../assets/header.css">
  <link rel="stylesheet" href="../assets/softload.css">

  <!-- 兜底样式：logo 尺寸，防止外链未加载时过大 -->
  <style>
    .tk-logo img { height: 28px; width: auto; display: block; }
  </style>

  <!-- 兜底样式：最小版 header 布局（外链 header.css 失效时顶上） -->
  <style>
    :root{
      --bg:#fdfcf8;
      --ink:#0b0b0b;
      --muted:#6b6b6b;
      --divider:#e7e3dc;
    }
    html,body{margin:0;padding:0;background:var(--bg)}
    body{font-family:"Nunito",system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;color:var(--ink)}

    /* ===== Header minimal fallback ===== */
    .tk-header{
      position: sticky; top: 0; z-index: 50;
      background: var(--bg);
      border-bottom: 1px solid var(--divider);
      backdrop-filter: saturate(160%) blur(6px);
    }
    .tk-header__inner{
      max-width: 1240px; margin: 0 auto; padding: 14px 20px;
      display: grid; grid-template-columns: auto 1fr auto;
      align-items: center; gap: 16px;
    }
    .tk-logo img{ display:block; height:28px; width:auto; }

    .tk-nav--desktop{
      display:flex; align-items:center; gap:28px; justify-self:center;
    }
    .tk-nav--desktop a{
      text-decoration:none; color:var(--ink);
      font-family:"europa","EuropaGrotesk",Arial,sans-serif;
      font-weight:700; letter-spacing:.02em; font-size:14px;
      padding:8px 6px; border-radius:8px;
    }
    .tk-nav--desktop a.is-active{ background:#efeee9; }

    .tk-burger{
      display:none; appearance:none; border:0; background:transparent;
      width:42px; height:36px; border-radius:10px; position:relative; cursor:pointer;
    }
    .tk-burger span{
      position:absolute; left:10px; right:10px; height:2px; background:var(--ink);
      transform-origin:center; transition:transform .25s ease, opacity .25s ease, top .25s ease;
    }
    .tk-burger span:nth-child(1){ top:11px; }
    .tk-burger span:nth-child(2){ top:17px; }
    .tk-burger span:nth-child(3){ top:23px; }
    .tk-burger.is-open span:nth-child(1){ top:17px; transform:rotate(45deg); }
    .tk-burger.is-open span:nth-child(2){ opacity:0; }
    .tk-burger.is-open span:nth-child(3){ top:17px; transform:rotate(-45deg); }

    .tk-nav--mobile{
      display:grid; gap:8px; padding:10px 20px 16px;
      border-top:1px solid var(--divider); background:var(--bg);
    }
    .tk-nav--mobile a{
      text-decoration:none; color:var(--ink);
      font-family:"europa","EuropaGrotesk",Arial,sans-serif;
      font-weight:700; font-size:14px; padding:10px 8px; border-radius:8px;
    }
    .tk-nav--mobile a.is-active{ background:#efeee9; }

    @media (max-width:960px){
      .tk-nav--desktop{ display:none; }
      .tk-burger{ display:block; justify-self:end; }
    }

    /* ===== Page styles (与你现有保持一致) ===== */
    .hero{padding:64px 20px 24px;max-width:1200px;margin:0 auto;text-align:center}
    .hero__kicker{margin:0;font-family:"europa","EuropaGrotesk","Nunito",Arial,sans-serif;font-weight:800;letter-spacing:-.01em;font-size:clamp(28px,3.5vw,44px)}
    .hero__sub{margin:12px 0 0;color:var(--muted);font-weight:400;font-size:clamp(14px,2.2vw,16px)}

    .catalog{max-width:1240px;margin:24px auto 96px;padding:0 20px;display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:32px 28px}
    @media (min-width:1400px){.catalog{max-width:1380px;grid-template-columns:repeat(4,minmax(0,1fr))}}
    @media (max-width:960px){.catalog{grid-template-columns:repeat(2,minmax(0,1fr));gap:26px 20px}}
    @media (max-width:560px){.catalog{grid-template-columns:1fr;gap:22px 16px}}

    .tile{display:block;text-decoration:none;color:inherit}
    .tile__figure{position:relative;border-radius:16px;overflow:hidden;outline:1px solid #e7e3dc;box-shadow:0 1px 0 rgba(0,0,0,.02);transition:transform .25s ease,box-shadow .25s ease;aspect-ratio:4/3}
    .tile__figure:hover{transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.08)}
    .tile__figure img{width:100%;height:100%;object-fit:cover;display:block}
    .tile__label{position:absolute;left:12px;bottom:12px;margin:0;padding:8px 10px 7px;border-radius:10px;font-weight:700;font-size:clamp(13px,1.8vw,14px);line-height:1;background:rgba(255,255,255,.78);backdrop-filter:saturate(140%) blur(4px)}
  </style>
</head>
<body>
  <!-- Header -->
  <header class="tk-header">
    <div class="tk-header__inner">
      <a class="tk-logo" href="../index.html" aria-label="TekcoUHPC Home">
        <img src="../img/logo.png" alt="TekcoUHPC">
      </a>

      <nav class="tk-nav tk-nav--desktop">
        <a href="../index.html">Home</a>
        <a class="is-active" href="./index.html">Products</a>
        <a href="../contact/index.html">Contact</a>
      </nav>

      <button class="tk-burger" aria-label="Open Menu" aria-expanded="false">
        <span></span><span></span><span></span>
      </button>
    </div>

    <nav class="tk-nav tk-nav--mobile" hidden>
      <a href="../index.html">Home</a>
      <a class="is-active" href="./index.html">Products</a>
      <a href="../contact/index.html">Contact</a>
    </nav>
  </header>

  <main class="page-products">
    <section class="hero">
      <h1 class="hero__kicker">Our products</h1>
      <p class="hero__sub">Curated UHPC surfaces and textures for architecture &amp; interiors in Singapore</p>
    </section>

    <section class="catalog fx-softload" id="catalog"></section>
  </main>

  <!-- 脚本用相对路径 -->
  <script src="../assets/header.js"></script>
  <script src="../assets/softload.js"></script>

  <!-- 渲染逻辑 -->
  <script type="module">
    async function renderCatalog(){
      try{
        const res = await fetch('../assets/products.json', { cache: 'no-cache' });
        if(!res.ok) throw new Error(res.status);
        const items = await res.json();

        const IMG_DIR = '../img/ProductsCover/';
        const html = items.map(({name, slug, img}) => `
          <a class="tile" href="./${slug}.html">
            <figure class="tile__figure">
              <img loading="lazy" src="${IMG_DIR}${img}" alt="${name}" />
              <figcaption class="tile__label">${name}</figcaption>
            </figure>
          </a>
        `).join('');

        document.getElementById('catalog').innerHTML = html;
        if (window.tkSoftloadInit) window.tkSoftloadInit(document);
      }catch(err){
        console.error(err);
        document.getElementById('catalog').innerHTML = '<p style="color:#888">Failed to load products.</p>';
      }
    }
    renderCatalog();
  </script>
</body>
</html>
