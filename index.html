<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TekcoUHPC — Ultra‑High‑Performance Concrete</title>
  <!-- Fonts -->
  <link rel="stylesheet" href="https://use.typekit.net/jry3xql.css">
  <!-- Header styles -->
  <link rel="stylesheet" href="assets/header.css">
  <style>
    :root{
      /* === adjust these two to change CARD SIZE === */
      --ringW: 128px;   /* card width  -> smaller makes cards look smaller */
      --ringH: 128px;   /* card height -> smaller increases top gap */
      /* ============================================ */

      --bg:#fdfcf8; --ink:#0a0a0a; --muted:#6b6b6b;
      --persp: 1100px;  /* perspective distance: smaller = stronger perspective */
      --cardRadius: 22px;
      --edgeFade: 220px; /* left/right vignette strength (px) */
    }
    html,body{margin:0;padding:0;background:var(--bg); color:var(--ink)}
    body{font-family: Nunito, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; line-height:1.6}
    a{color:inherit;text-decoration:none}

    /* Header host (header.js or fallback below) */
    header.site-header{position:sticky;top:0;z-index:50;background:var(--bg)}

    /* Hero */
    .hero{max-width:1200px;margin:58px auto 6px;padding:0 20px;text-align:center}
    .eyebrow{font-family:'EuropaGrotesk', system-ui, -apple-system, Segoe UI, Roboto, Arial;
      font-size:clamp(16px,2.2vw,20px); opacity:.7; letter-spacing:.2px}
    .hero-title{font-family:'EuropaGrotesk', system-ui, -apple-system, Segoe UI, Roboto, Arial;
      font-weight:700; font-size:clamp(36px,6vw,64px); margin:.2rem 0 .6rem}
    .sub{max-width:820px;margin:0 auto 18px;color:var(--muted);font-size:clamp(14px,2vw,18px)}
    .cta{display:inline-block;margin-top:6px;padding:10px 16px;border:1px solid #ddd;border-radius:14px;
      background:#fff;box-shadow:0 10px 24px rgba(0,0,0,.06);}
    .cta:hover{transform:translateY(-1px);box-shadow:0 14px 32px rgba(0,0,0,.08)}

    /* Ring carousel */
    .ring-wrap{max-width:1200px;margin:22px auto 18px;padding:0 20px}
    .ring-head{display:flex;align-items:center;justify-content:space-between;margin-bottom:6px}
    .ring-title{font-family:'EuropaGrotesk', system-ui, -apple-system, Segoe UI, Roboto, Arial;
      font-size: clamp(22px, 3vw, 30px); margin:0}
    .ring-ctrl{display:flex;gap:10px}
    .ring-btn{border:1px solid #ddd;background:#fff;padding:8px 14px;border-radius:12px;
      cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,.06);transition:.2s}
    .ring-btn:hover{transform:translateY(-1px);box-shadow:0 10px 26px rgba(0,0,0,.08)}

    .ring-viewport{
      position:relative; 
      /* === adjust this to change carousel HEIGHT and top gap === */
      height: clamp(150px, 18vw, 200px);
      /* ======================================================== */
      perspective: var(--persp); perspective-origin: 50% 50%;
      margin: 8px auto 6px; overflow: visible;
    }
    .ring-viewport::before, .ring-viewport::after{
      content:""; position:absolute; top:0; bottom:0; width:var(--edgeFade); pointer-events:none;
    }
    .ring-viewport::before{left:-2px;background:linear-gradient(to right,var(--bg),rgba(253,252,248,0) 70%)}
    .ring-viewport::after{right:-2px;background:linear-gradient(to left,var(--bg),rgba(253,252,248,0) 70%)}

    .ring-scene{
      width:100%;height:100%;position:relative;transform-style: preserve-3d;
      will-change: transform;
    }
    .ring-card{
      position:absolute; top:50%; left:50%;
      width: var(--ringW); height: var(--ringH);
      transform-style: preserve-3d; backface-visibility: hidden;
      border-radius: var(--cardRadius);
      box-shadow:0 14px 40px rgba(0,0,0,.12);
      overflow:hidden; display:flex; flex-direction:column; justify-content:flex-end;
      color:#fff; transition:filter .2s, transform .2s;
      background: linear-gradient(135deg,#8e8e8e,#3a3a3a);
    }
    .ring-card .ph{position:absolute; inset:0; width:100%; height:100%; object-fit: cover; filter: saturate(1.02) contrast(1.05) brightness(.98);}
    .ring-card::after{content:""; position:absolute; inset:0; background: linear-gradient(to top, rgba(0,0,0,.45), rgba(0,0,0,0) 60%);}
    .ring-card .meta{position:relative; z-index:2; padding:12px 14px 14px;}
    .ring-card h4{margin:0; font-size:16px; font-weight:700; font-family:'EuropaGrotesk', system-ui, -apple-system, Segoe UI, Roboto, Arial; letter-spacing:.2px;}
    .ring-card p{display:none} /* removed subtitle */

    .ring-caption{
      text-align:center;
      font-family:'EuropaGrotesk', system-ui, -apple-system, Segoe UI, Roboto, Arial;
      font-size: clamp(16px, 2.2vw, 20px);
      font-weight: 700;
      letter-spacing:.2px;
      color: var(--ink);
      margin: 4px 0 2px;
    }

    footer{border-top:1px solid #eae7e0;margin-top:20px;padding:18px 20px;color:#777;text-align:center;font-size:13px}

    @media (max-width: 1024px){
      :root{ --ringW: 200px; --ringH: 260px; --persp: 950px; --edgeFade: 160px; }
    }
    @media (max-width: 768px){
      :root{ --ringW: 72vw; --ringH: 58vw; --persp: 820px; --edgeFade: 120px; }
      .hero{margin-top:44px}
    }
  </style>
</head>
<body>
  <!-- If header.js fails for任何原因，下面这段简单的header会显示；
       如果 header.js 成功，它可以覆盖/隐藏这段（由你的脚本决定）。 -->
  <header class="site-header">
    <div class="header-fallback" style="max-width:1200px;margin:0 auto;padding:12px 20px;display:flex;align-items:center;justify-content:space-between;">
      <a href="/" style="font-family:'EuropaGrotesk',system-ui,Arial;font-weight:700;">TekcoUHPC</a>
      <nav style="display:flex;gap:18px;font-size:14px;">
        <a href="/">Home</a>
        <a href="products/">Products</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero" id="about">
      <div class="eyebrow">Streamline Your Team,</div>
      <h1 class="hero-title">Supercharge Your Workflow</h1>
      <p class="sub">All-in-one platform to plan, collaborate, and deliver — faster and smarter.</p>
      <a class="cta" href="products/">Explore Collections</a>
    </section>

    <section class="ring-wrap" id="showcase">
      <div class="ring-head">
        <h2 class="ring-title">Collections Showcase</h2>
        <div class="ring-ctrl">
          <button class="ring-btn" id="ringPrev" aria-label="Previous">&#9664;</button>
          <button class="ring-btn" id="ringNext" aria-label="Next">&#9654;</button>
        </div>
      </div>
      <div class="ring-viewport">
        <div class="ring-scene" id="ringScene" aria-live="polite"></div>
      </div>
      <div class="ring-caption" id="ringCaption">Loading…</div>
    </section>
  </main>

  <footer>© TekcoUHPC. All rights reserved.</footer>

  <script>
  (function(){
    /* === PARAMETERS you can tweak quickly === */
    var CONCAVE = false;        // true = 凹进屏幕；false = 凸出屏幕
    var RADIUS_SCALE = 1;    // >1 增加圆半径与卡片间距（约 20px 视觉）
    var EMPHASIZE_MAX = 0.03;  // 中心卡片最大放大比例（0.03 = 放大3%）
    var AUTO_SPEED = 0.03;     // 自动旋转速度（度/帧）
    /* ======================================= */

    var items = [
      ["Travertine","./img/ProductsCover/Travertine.png"],
      ["Damascus","./img/ProductsCover/Damascus.png"],
      ["Bush Hammered","./img/ProductsCover/BushHammered.png"],
      ["Taklamar","./img/ProductsCover/Taklamar.png"],
      ["Raw Grey","./img/ProductsCover/RawGrey.png"],
      ["Prime Raw","./img/ProductsCover/PrimeRaw.png"],
      ["Raw Archi","./img/ProductsCover/RawArchi.png"],
      ["Artisanal","./img/ProductsCover/Artisanal.png"],
      ["Wood","./img/ProductsCover/Wood.png"],
      ["Patch Wood","./img/ProductsCover/PatchWood.png"],
      ["Nature","./img/ProductsCover/Nature.png"],
      ["Colour","./img/ProductsCover/Colour.png"],
      ["Earth","./img/ProductsCover/Earth.png"],
      ["Cloud","./img/ProductsCover/Cloud.png"],
      ["Knit","./img/ProductsCover/Knit.png"]
    ];

    var scene = document.getElementById('ringScene');
    var btnPrev = document.getElementById('ringPrev');
    var btnNext = document.getElementById('ringNext');
    var caption = document.getElementById('ringCaption');

    // Build cards
    for (var i=0;i<items.length;i++){
      var name = items[i][0]; var src = items[i][1];
      var card = document.createElement('figure');
      card.className = 'ring-card';
      card.innerHTML = '' +
        '<img class="ph" alt="' + name + '" src="' + src + '" onerror="this.style.display=\'none\'">' +
        '<figcaption class="meta"><h4>' + name + '</h4></figcaption>';
      scene.appendChild(card);
    }

    var cards = Array.prototype.slice.call(scene.children);
    var n = cards.length;
    var angleStep = 360 / n;
    var radius = 520;
    var current = 0;
    var auto = true;

    function baseTransform(i){
      var a = i * angleStep;
      if(CONCAVE){
        // 凹进：远离观察者，再旋转 180° 让正面朝向我们
        return 'translate3d(-50%,-50%,0) rotateY(' + a + 'deg) translateZ(' + (-radius) + 'px) rotateY(180deg)';
      } else {
        // 凸出：靠近观察者
        return 'translate3d(-50%,-50%,0) rotateY(' + a + 'deg) translateZ(' + radius + 'px)';
      }
    }

    function layout(){
      var rect = cards[0].getBoundingClientRect();
      var cardW = rect.width || 220;
      var theta = Math.PI * 2 / n;
      radius = Math.max( (cardW/2) / Math.sin(theta/2) + 40, 280 );
      radius *= RADIUS_SCALE;
      for (var i=0;i<n;i++){
        cards[i].style.transform = baseTransform(i);
      }
      applyRotation(true);
    }

    function getActiveIndex(){
      var norm = ((current % 360) + 360) % 360;
      var bestI = 0, bestDiff = 1e9;
      for (var i=0;i<n;i++){
        var a = (i * angleStep + norm) % 360;
        var d = Math.min(a, 360 - a);
        if(d < bestDiff){ bestDiff = d; bestI = i; }
      }
      return bestI;
    }

    var lastActive = -1;
    function updateCaption(){
      var idx = getActiveIndex();
      if(idx === lastActive) return;
      caption.textContent = items[idx][0];
      if(lastActive >= 0) cards[lastActive].style.filter = '';
      cards[idx].style.filter = 'brightness(1.08)';
      lastActive = idx;
    }

    function emphasize(){
      var norm = ((current % 360) + 360) % 360;
      for (var i=0;i<n;i++){
        var a = (i * angleStep + norm) % 360;
        var dist = Math.min(a, 360 - a);
        var t = 1 - Math.min(dist/120, 1);
        var scale = 1 + t * EMPHASIZE_MAX;
        cards[i].style.transform = baseTransform(i) + ' scale(' + scale + ')';
        cards[i].style.zIndex = 100 + Math.round(t*100);
        cards[i].style.opacity = 0.8 + t*0.2;
      }
    }

    function applyRotation(force){
      scene.style.transform = 'rotateY(' + current + 'deg)';
      if(force) updateCaption();
      emphasize();
    }

    function tick(){
      if(auto) current -= AUTO_SPEED;
      applyRotation(false);
      if((Date.now()|0) % 4 === 0) updateCaption();
      requestAnimationFrame(tick);
    }

    scene.addEventListener('mouseenter', function(){ auto = false; });
    scene.addEventListener('mouseleave', function(){ auto = true; });

    var dragging = false, startX = 0, startAngle = 0;
    function dragStart(x){ dragging = true; startX = x; startAngle = current; auto = false; }
    function dragMove(x){ if(!dragging) return; var dx = x - startX; current = startAngle + dx * 0.25; applyRotation(false); updateCaption(); }
    function dragEnd(){ dragging = false; auto = true; }

    scene.addEventListener('pointerdown', function(e){ if(scene.setPointerCapture) scene.setPointerCapture(e.pointerId); dragStart(e.clientX); });
    window.addEventListener('pointermove', function(e){ dragMove(e.clientX); });
    window.addEventListener('pointerup', dragEnd);

    scene.addEventListener('touchstart', function(e){ dragStart(e.touches[0].clientX); }, {passive:true});
    window.addEventListener('touchmove',  function(e){ dragMove(e.touches[0].clientX); }, {passive:true});
    window.addEventListener('touchend',   dragEnd);

    scene.addEventListener('wheel', function(e){
      e.preventDefault();
      current += e.deltaY * 0.15;
      applyRotation(false);
      updateCaption();
      auto = false;
      clearTimeout(scene._wheelT);
      scene._wheelT = setTimeout(function(){ auto = true; }, 1200);
    }, {passive:false});

    if(btnPrev) btnPrev.addEventListener('click', function(){ current += angleStep; applyRotation(true); auto = false; setTimeout(function(){auto=true;}, 1500); });
    if(btnNext) btnNext.addEventListener('click', function(){ current -= angleStep; applyRotation(true); auto = false; setTimeout(function(){auto=true;}, 1500); });

    window.addEventListener('resize', layout);
    layout();
    updateCaption();
    tick();
  })();
  </script>

  <!-- Try to load project header; fallback above will remain if this fails -->
  <script>
    (function(){
      var s=document.createElement('script');
      s.src="assets/header.js"; s.defer=true;
      s.onerror=function(){ console.warn('header.js failed to load; showing fallback header.'); };
      document.body.appendChild(s);
    })();
  </script>
</body>
</html>
